- name: (Restart) Stop sshd via systemd
  vanduc2514.wsl_automation.wsl_systemd:
    distribution: "{{ wsl_sshd_distribution_name }}"
    name: "{{ wsl_sshd_service_name }}"
    enabled: "{{ wsl_sshd_enabled }}"
    state: stopped
  when:
    - wsl_sshd_service_type == 'systemd'
    - wsl_sshd_state == 'started'
  listen: Restart sshd

- name: (Restart) Start sshd via systemd
  vanduc2514.wsl_automation.wsl_systemd:
    distribution: "{{ wsl_sshd_distribution_name }}"
    name: "{{ wsl_sshd_service_name }}"
    enabled: "{{ wsl_sshd_enabled }}"
    state: started
  when:
    - wsl_sshd_service_type == 'systemd'
    - wsl_sshd_state == 'started'
  listen: Restart sshd

- name: (Restart) Stop sshd via sysvinit
  vanduc2514.wsl_automation.wsl_sysvinit:
    distribution: "{{ wsl_sshd_distribution_name }}"
    name: "{{ wsl_sshd_service_name }}"
    state: stopped
  when:
    - wsl_sshd_service_type == 'sysvinit'
    - wsl_sshd_state == 'started'
  listen: Restart sshd

- name: (Restart) Start sshd via sysvinit
  vanduc2514.wsl_automation.wsl_sysvinit:
    distribution: "{{ wsl_sshd_distribution_name }}"
    name: "{{ wsl_sshd_service_name }}"
    state: started
  when:
    - wsl_sshd_service_type == 'sysvinit'
    - wsl_sshd_state == 'started'
  listen: Restart sshd
